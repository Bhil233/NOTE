# 启动
```
uvicorn main:app --reload
```
main（主程序文件名）
app（实例名）
{--reload}（热加载）

访问FastAPI交互式文档
http://127.0.0.1:8000/does

# 路由

```
@app【FastAPI实例】.get【请求方法】("/")【请求路径】
async def root():
	return {"msg": "hello world"}
```

# 路径参数
**位置**：URL路径的一部分 */book/{id}*
**作用**：指向唯一的、特定的资源
**方法**：GET

原生类型注解添加Path注解
```
@app.get("/author/{author_name}")  
async def get_author_name(author_name: str = Path(..., min_length=2, max_length=10, description="人名，取值范围2-10")):  
    return {"msg": f"这是{author_name}的信息"}
```

# 查询参数
**位置：** URL之后
**作用：** 对资源集合进行过滤、排序、分页等操作
**方法：** GET

```
# 需求： 查询新闻 -> 分页， skip：跳过的记录数， limit：返回的记录数  
@app.get("/news/news_list")  
async def get_news_list(  
        skip: int = Query(0, description="跳过的记录数", lt=100),  
        limit: int = Query(10, description="返回的记录数", lt=100),  
):  
    return {"skip": skip, "limit": limit}
```

# 请求体
**位置**：HTTP请求的消息体（body）中
**作用**：创建、更新资源，携带大量数据，如JSON
**方法**：POST、PUT

```
from pydantic import BaseModel, Field
# 注册功能： 用户名和密码 => strclass User(BaseModel):  
    username: str = Field(  
        default="username",  
        min_length=2,  
        max_length=10,  
        description="用户名，长度2-10"  
    )  
    password: str = Field(  
        min_length=8,  
        max_length=10,  
        description="密码，长度8-10"  
    )  
  
@app.post("/register")  
async def register(user: User):  
    return user
```

# 响应类型设置方式

## 装饰器中指定响应类
场景：固定返回类型（HTML、文本）
```
from fastapi.responses import HTMLResponse
# 接口 响应 HTML 代码  
@app.get("/html", response_class=HTMLResponse)  
async def get_html():  
    return "<h1>Hello World</h1>"
```
## 返回响应对象
场景：文件下载、图片、流式响应